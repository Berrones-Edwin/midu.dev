{{ define "title" }}Ap√∫ntate a la newsletter y recibe en tu correo art√≠culos de calidad | midudev üë®‚Äçüíª{{ end }}

{{ define "main" }}
{{ $css := resources.Get "styles/highlight.css" }}
{{ $style := $css | resources.Minify }}
<style>{{ $style.Content | safeCSS }}</style>
<style>
#newsletter-page {
    margin: 0 auto;
    width: 100%;
    max-width: 600px;
}

#newsletter-page p {
    line-height: 1.75;
    padding-bottom: 32px;
}

#newsletter-page > div {
    display: flex;
    justify-content: center;
    align-items: center;
    padding-bottom: 24px;
}
#newsletter-page img {
    max-width: 150px;
    height: auto;
}
#newsletter-page h3 {
    font-size: 48px;
    line-height: 1;
    color: #111;
}

#newsletter-page-content {
    max-width: 500px;
    margin: 0 auto;
}

.input.is-big {
    height: 40px;
    padding: 6px 11px 6px 36px;
    font-size: 16px;
    line-height: 40px;
}

.input.is-small {
    height: 24px;
    padding: 1px 7px;
    line-height: 24px;
}

.input ~ label {
    position: absolute;
    left: 32px;
    width: 100%;
    top: 11px;
    color: #aaa;
    transition: 0.3s;
    z-index: -1;
}

.input:focus ~ svg {
    fill: #333;
}

.input {
    background-color: transparent;
}

.input:focus {
    color: #333;
}
label.is-ready {
    top: -22px;
    font-size: 12px;
    color: #3399FF;
    transition: 0.3s;
    left: 0;
    z-index: 0;
}

fieldset {
    margin-bottom: 16px;
    position: relative;
}

fieldset svg {
    fill: #999;
    left: 8px;
    top: 13px;
    position: absolute;
}

small {
    font-weight: 500;
    color: #555;
    padding-bottom: 8px;
    display: block;
}

section {
    text-align: center;
}

.button {
    font-size: 24px;
}

#newsletter-page-name {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 2s ease;
}

#newsletter-page-name.is-ready {
    max-height: 500px;
    opacity: 1;
}
</style>

<div id='newsletter-page'>
    <div>
        <h3 id="newsletter-page-title">
            ¬°Ap√∫ntate a la newsletter!
        </h3>
        <img src='/images/newsletter-icon.png' />
    </div>
    <section>
        <p>Te enviar√© <strong>contenido exclusivo</strong> para ti, </strong>art√≠culos de frontend <strong>de calidad üëå</strong>, avisos de <strong>sorteos</strong>, <strong>descuentos</strong> en mis cursos üë®‚Äçüè´ y nuevos v√≠deos en mi canal.<br />Ah, y <strong>NADA DE SPAM üôÖ‚Äç‚ôÇÔ∏è.</strong>
        </p>
    </section>
    <form action="https://www.getrevue.co/profile/midudev/add_subscriber" method="post" name="revue-form" target="_blank">
        <div>
            <fieldset>
                <input autofocus required="" id='member[email]' class="input is-big" type="email" name="member[email]">
                <svg viewBox="64 64 896 896" focusable="false" class="" data-icon="mail" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"></path></svg>
                <label for='member[email]'>Tu correo electr√≥nico</label>
            </fieldset>
            <fieldset id='newsletter-page-name'>
                <small>Si quieres, puedes dejar tu nombre. <strong>No es obligatorio</strong> pero el correo ser√° m√°s personal:</small>
                <input class="input" type="text" name="member[first_name]" placeholder="Tu nombre">
            </fieldset>
        </div>
        <input class="button" type="submit" value="‚úçÔ∏è ¬°Me suscribo!" name="member[subscribe]" id="member_submit">
    </form>

</div>

<script>
    var page = document.getElementById('newsletter-page')
    var input = page.querySelector('.input.is-big')

    input.addEventListener('focus', function callback (e) {
        page.querySelector('label').classList.add('is-ready')
        input.removeEventListener('focus', callback)
    })
    input.addEventListener('input', function callback (e) {
        var isValid = this.checkValidity()
        if (isValid) {
            page.querySelector('.button').classList.add('is-ready')
            page.querySelector('#newsletter-page-name').classList.add('is-ready')
            input.removeEventListener('input', callback)
        }
    })
</script>
{{ end }}